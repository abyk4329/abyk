/* ========================================
   Button System (Design Tokens Backed)
   ------------------------------------
   Shared styles for neuomorphic buttons
   replacing app/components/neu/Button.module.css
   ======================================== */

.btn {
  position: relative;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--button-gap);
  min-height: var(--button-height);
  padding-inline: var(--button-padding-inline);
  padding-block: var(--button-padding-block);
  border: none;
  border-radius: var(--button-radius);
  background-color: var(--neu-card);
  color: var(--neu-text-primary);
  font-family: var(--font-family-sans);
  font-weight: var(--font-weight-semi);
  font-size: var(--button-font-size);
  letter-spacing: var(--button-letter-spacing);
  text-align: center;
  cursor: pointer;
  transition: transform var(--duration-fast) var(--easing-standard),
    box-shadow var(--duration-fast) var(--easing-standard),
    background-color var(--duration-fast) var(--easing-standard),
    color var(--duration-fast) var(--easing-standard);
  outline: none;
  user-select: none;
  -webkit-tap-highlight-color: transparent;
}

.btn:focus-visible {
  outline: 2px solid var(--neu-accent);
  outline-offset: 2px;
}

.btn:disabled {
  cursor: not-allowed;
  opacity: 0.55;
}

.btn:not(:disabled):hover {
  transform: scale(1.02);
}

.btn:not(:disabled):active,
.btn[data-pressed='true'] {
  transform: scale(0.98);
}

.btn-full {
  width: 100%;
}

.btn-icon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.btn-text {
  display: inline-flex;
  align-items: center;
}

/* ========================================
   Size Modifiers
   ======================================== */

.btn-size-sm {
  min-height: calc(var(--button-height) * 0.78);
  font-size: clamp(0.875rem, 0.8rem + 0.45vw, 0.95rem);
  border-radius: calc(var(--button-radius) * 0.78);
  gap: calc(var(--button-gap) * 0.75);
}

.btn-size-sm .btn-icon {
  width: 1rem;
  height: 1rem;
}

.btn-size-md {
  min-height: var(--button-height);
  font-size: clamp(0.95rem, 0.9rem + 0.5vw, 1rem);
  border-radius: var(--button-radius);
}

.btn-size-md .btn-icon {
  width: 1.25rem;
  height: 1.25rem;
}

.btn-size-lg {
  min-height: calc(var(--button-height) * 1.08);
  font-size: clamp(1.05rem, 1rem + 0.6vw, 1.125rem);
  border-radius: calc(var(--button-radius) * 1.05);
  gap: calc(var(--button-gap) * 1.05);
}

.btn-size-lg .btn-icon {
  width: 1.5rem;
  height: 1.5rem;
}

@media (max-width: 640px) {
  .btn-size-lg {
    font-size: clamp(0.95rem, 0.9rem + 0.4vw, 1rem);
  }

  .btn-size-md {
    font-size: clamp(0.9rem, 0.85rem + 0.35vw, 0.9375rem);
  }

  .btn-size-sm {
    font-size: clamp(0.82rem, 0.78rem + 0.3vw, 0.87rem);
  }
}

@media (prefers-reduced-motion: reduce) {
  .btn {
    transition: none;
  }

  .btn:not(:disabled):hover,
  .btn:not(:disabled):active,
  .btn[data-pressed='true'] {
    transform: none;
  }
}

/* ========================================
   Variants
   ======================================== */

.btn-variant-primary {
  background-color: var(--neu-card);
  color: var(--neu-text-primary);
  box-shadow: none;
}

.btn-variant-secondary {
  background-color: var(--neu-card);
  color: var(--neu-text-secondary);
  box-shadow: var(--shadow-raised);
  border: 1px solid
    color-mix(in srgb, var(--neu-text-secondary) 10%, transparent);
}

.btn-variant-secondary:not(:disabled):hover {
  box-shadow: var(--shadow-raised-hover);
  color: var(--neu-text-primary);
}

.btn-variant-secondary:not(:disabled):active,
.btn-variant-secondary[data-pressed='true'] {
  box-shadow: var(--shadow-inset);
}

.btn-variant-ghost {
  background: transparent;
  color: var(--neu-text-secondary);
  box-shadow: none;
  border: 1px solid
    color-mix(in srgb, var(--neu-text-secondary) 12%, transparent);
}

.btn-variant-ghost:not(:disabled):hover {
  color: var(--neu-text-primary);
  border-color: color-mix(in srgb, var(--neu-text-secondary) 20%, transparent);
  background: color-mix(in srgb, var(--neu-card) 92%, transparent);
}

.btn-variant-ghost:not(:disabled):active,
.btn-variant-ghost[data-pressed='true'] {
  background: color-mix(in srgb, var(--neu-card) 88%, transparent);
  box-shadow: inset 0 0 0 1px
    color-mix(in srgb, var(--neu-text-secondary) 18%, transparent);
}

[data-theme='dark'] .btn-variant-ghost {
  color: var(--neu-text-tertiary);
  border-color: color-mix(in srgb, var(--neu-text-tertiary) 28%, transparent);
}

[data-theme='dark'] .btn-variant-ghost:not(:disabled):hover {
  color: var(--neu-text-primary);
  border-color: color-mix(in srgb, var(--neu-text-tertiary) 36%, transparent);
  background: color-mix(in srgb, var(--neu-card) 90%, transparent);
}

[data-theme='dark'] .btn-variant-ghost:not(:disabled):active,
[data-theme='dark'] .btn-variant-ghost[data-pressed='true'] {
  background: color-mix(in srgb, var(--neu-card) 86%, transparent);
  box-shadow: inset 0 0 0 1px
    color-mix(in srgb, var(--neu-text-tertiary) 26%, transparent);
}

.btn-variant-gold {
  background: var(--neu-accent);
  color: var(--on-accent);
  box-shadow: var(--shadow-raised-strong);
}

.btn-variant-gold:not(:disabled):hover {
  box-shadow: var(--shadow-raised-emphasis);
}

.btn-variant-gold:not(:disabled):active,
.btn-variant-gold[data-pressed='true'] {
  box-shadow: inset 0 0 0 1px var(--neu-cta-press),
    inset 0 8px 18px color-mix(in srgb, var(--neu-cta-press) 32%, transparent);
}

.btn-link,
.btn-variant-link {
  background: none;
  color: var(--neu-accent);
  box-shadow: none;
  padding-inline: 0;
  min-height: auto;
}

.btn-link:focus-visible,
.btn-variant-link:focus-visible {
  outline-offset: 4px;
}
