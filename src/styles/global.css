@import "./variables.css";

:root {
  color-scheme: light;
}

* {
  box-sizing: border-box;
  border-color: var(--color-border);
}

*::before,
*::after {
  box-sizing: inherit;
}

html {
  font-size: var(--font-size-root);
  direction: var(--dir);
  padding-top: env(safe-area-inset-top);
  padding-bottom: env(safe-area-inset-bottom);
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100dvh;
  background-color: var(--surface-header);
  background-image: var(--gradient-page);
  background-attachment: fixed;
  color: var(--color-foreground);
  font-family: var(--font-family-base);
  line-height: 1.1;
  text-align: center;
  direction: var(--dir);
  overflow-x: hidden;
}

body::before {
  content: "";
  position: fixed;
  inset: 0;
  z-index: -2;
  pointer-events: none;
  background: var(--gradient-hero-top), var(--gradient-hero-bottom);
  transition: opacity 0.3s ease;
}

body > div,
#__next {
  min-height: 100dvh;
  width: 100%;
  isolation: isolate;
}

a {
  color: inherit;
  text-decoration: none;
}

a:hover {
  text-decoration: underline;
}

img,
svg {
  display: block;
  max-width: 100%;
}

/* Typography */
h1,
h2,
h3,
h4,
h5,
h6,
p {
  font-family: var(--font-family-base);
  margin: 0.5rem 0;
}

h1 {
  font-weight: var(--font-weight-bold);
  font-size: var(--font-size-h1-mobile);
  color: var(--brown-heading);
}

h2 {
  font-weight: var(--font-weight-bold);
  font-size: var(--font-size-h2-mobile);
  color: var(--brown-bronze);
}

h3 {
  font-weight: var(--font-weight-bold);
  font-size: var(--font-size-h3-mobile);
  color: var(--brown-bronze);
}

h4 {
  font-weight: var(--font-weight-bold);
  font-size: var(--font-size-h4-mobile);
  color: var(--brown-bronze);
}

h5 {
  font-weight: var(--font-weight-semibold);
  font-size: var(--font-size-h5-mobile);
  color: var(--brown-bronze);
}

h6 {
  font-weight: var(--font-weight-semibold);
  font-size: var(--font-size-h6-mobile);
  color: var(--brown-bronze);
}

p,
label,
input,
textarea {
  font-size: var(--font-size-body-mobile);
  font-weight: var(--font-weight-regular);
  color: var(--color-foreground);
  line-height: var(--font-line-height-base);
}

.caption {
  font-size: var(--font-size-caption-mobile) !important;
  color: var(--brown-neutral) !important;
}

button {
  font-size: var(--font-size-h6-mobile);
  font-weight: var(--font-weight-semibold);
  font-family: var(--font-family-base);
}

@media (min-width: 640px) {
  h1 {
    font-size: var(--font-size-h1-sm);
  }
  h2 {
    font-size: var(--font-size-h2-sm);
  }
  h3 {
    font-size: var(--font-size-h3-sm);
  }
  h4 {
    font-size: var(--font-size-h4-sm);
  }
  h5 {
    font-size: var(--font-size-h5-sm);
  }
  h6 {
    font-size: var(--font-size-h6-sm);
  }
  p,
  label,
  input,
  textarea {
    font-size: var(--font-size-body-sm);
  }
}

@media (min-width: 768px) {
  h1 {
    font-size: var(--font-size-h1-md);
  }
  h2 {
    font-size: var(--font-size-h2-md);
  }
  h3 {
    font-size: var(--font-size-h3-md);
  }
  h4 {
    font-size: var(--font-size-h4-md);
  }
  h5 {
    font-size: var(--font-size-h5-md);
  }
  h6 {
    font-size: var(--font-size-h6-md);
  }
  p,
  label,
  input,
  textarea {
    font-size: var(--font-size-body-md);
  }
}

@media (min-width: 1024px) {
  h1 {
    font-size: var(--font-size-h1-lg);
  }
  h2 {
    font-size: var(--font-size-h2-lg);
  }
  h3 {
    font-size: var(--font-size-h3-lg);
  }
  h4 {
    font-size: var(--font-size-h4-lg);
  }
  h5 {
    font-size: var(--font-size-h5-lg);
  }
  h6 {
    font-size: var(--font-size-h6-lg);
  }
  p,
  label,
  input,
  textarea {
    font-size: var(--font-size-body-lg);
  }
}

@media (min-width: 1280px) {
  h1 {
    font-size: var(--font-size-h1-xl);
  }
  h2 {
    font-size: var(--font-size-h2-xl);
  }
  h3 {
    font-size: var(--font-size-h3-xl);
  }
  h4 {
    font-size: var(--font-size-h4-xl);
  }
  h5 {
    font-size: var(--font-size-h5-xl);
  }
  h6 {
    font-size: var(--font-size-h6-xl);
  }
  p,
  label,
  input,
  textarea {
    font-size: var(--font-size-body-xl);
  }
}

/* Layout shells */
.hero-shell {
  min-height: 100vh;
  min-height: 100svh;
  min-height: calc(
    100dvh - env(safe-area-inset-top) - env(safe-area-inset-bottom)
  );
  display: flex;
  align-items: center;
  justify-content: center;
  padding-block-start: calc(
    var(--layout-header-height) + env(safe-area-inset-top) +
      clamp(0.75rem, 2.5vw, 2rem)
  );
  padding-block-end: calc(
    env(safe-area-inset-bottom) + clamp(1.5rem, 5vh, 4rem)
  );
  padding-inline-start: calc(
    env(safe-area-inset-right) + var(--layout-safe-padding)
  );
  padding-inline-end: calc(
    env(safe-area-inset-left) + var(--layout-safe-padding)
  );
  width: 100%;
  position: relative;
  isolation: isolate;
}

.hero-shell::before {
  content: "";
  position: fixed;
  inset: 0;
  z-index: -1;
  background: var(--gradient-hero-top), var(--gradient-hero-bottom);
  filter: blur(80px) saturate(108%);
  opacity: 0.97;
  pointer-events: none;
}

@media (max-width: 640px) {
  .hero-shell::before {
    background: var(--gradient-hero-mobile-top),
      var(--gradient-hero-mobile-bottom);
    filter: blur(120px) saturate(112%);
    opacity: 0.98;
  }
}

.hero-card {
  width: var(--primary-card-width);
  max-width: var(--primary-card-width);
  margin-inline: auto;
  padding-inline: var(--primary-card-gutter);
  padding-block: var(--primary-card-padding-block);
  background: var(--gradient-card-primary);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-card-main);
  transition: transform 0.5s var(--transition-smooth),
    box-shadow 0.5s var(--transition-smooth);
}

.hero-card[data-hero-group="a"] {
  transform: translateY(var(--layout-hero-offset-group-a));
}

.hero-card[data-hero-group="b"] {
  transform: translateY(var(--layout-hero-offset-group-b));
}

@media (max-width: 640px) {
  .hero-card[data-hero-group="a"] {
    transform: translateY(var(--layout-hero-offset-group-a-mobile));
  }
  .hero-card[data-hero-group="b"] {
    transform: translateY(var(--layout-hero-offset-group-b-mobile));
  }
}

.hero-card:hover {
  box-shadow: var(--shadow-card-main-hover);
}

/* Neumorphic components */
.neuro-card-main {
  background: var(--gradient-card-primary);
  box-shadow: var(--shadow-card-main);
  border: 0;
  transition: all 0.5s var(--transition-smooth);
}

.neuro-card-main:hover {
  box-shadow: var(--shadow-card-main-hover);
  transform: translateY(-2px);
}

.neuro-card-secondary {
  background: var(--gradient-card-secondary);
  box-shadow: var(--shadow-card-secondary);
  border: 0;
  transition: all 0.5s var(--transition-smooth);
}

.neuro-card-secondary:hover {
  box-shadow: var(--shadow-card-secondary-hover);
  transform: translateY(-1px);
}

.neuro-card-floating {
  background: var(--gradient-card-floating);
  box-shadow: var(--shadow-card-floating);
  border: 0;
  transition: all 0.6s var(--transition-smooth);
}

.neuro-card-floating:hover {
  box-shadow: var(--shadow-card-floating-hover);
  transform: translateY(-4px) scale(1.01);
}

.neuro-icon {
  background: var(--gradient-card-floating);
  box-shadow: var(--shadow-icon);
  border: 0;
  transition: all 0.5s var(--transition-smooth);
}

.neuro-icon:hover {
  box-shadow: var(--shadow-icon-hover);
  transform: translateY(-2px) scale(1.05);
}

.neuro-button {
  background: var(--gradient-card-floating);
  box-shadow: var(--shadow-button);
  border: 0;
  color: var(--brown-bronze);
  padding-inline: var(--space-3);
  padding-block: var(--space-1-5);
  border-radius: var(--radius-sm);
  transition: all 0.3s var(--transition-smooth);
}

.neuro-button:hover {
  box-shadow: var(--shadow-button-hover);
  transform: translateY(-2px);
}

.neuro-button:active {
  box-shadow: var(--shadow-button-active);
  transform: scale(0.97) translateY(2px);
}

.neuro-input {
  background: linear-gradient(145deg, #fdfcfb, #f5f1ed);
  box-shadow: inset 8px 8px 16px rgba(159, 133, 114, 0.12),
    inset -8px -8px 16px rgba(255, 255, 255, 0.85),
    1px 1px 3px rgba(159, 133, 114, 0.05);
  border: 0;
  border-radius: var(--radius-sm);
  color: var(--brown-dark);
  padding: var(--space-1-5) var(--space-2);
  transition: all 0.3s ease;
}

.neuro-input:focus {
  box-shadow: inset 10px 10px 20px rgba(159, 133, 114, 0.15),
    inset -10px -10px 20px rgba(255, 255, 255, 0.9),
    0 0 0 3px rgba(135, 103, 79, 0.1);
  outline: none;
}

.neuro-input::placeholder {
  color: var(--brown-neutral);
  opacity: 0.6;
}

/* Direction helpers */
.rtl {
  direction: rtl;
  text-align: right;
}

.ltr {
  direction: ltr;
  text-align: left;
}

[class*="ltr"],
:root[dir="ltr"] body {
  direction: ltr;
}

[class*="rtl"],
:root[dir="rtl"] body {
  direction: rtl;
}

/* Utility spacing */
.pb-safe-bottom {
  padding-bottom: max(env(safe-area-inset-bottom), 12px);
}

.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

.scrollbar-hide::-webkit-scrollbar {
  display: none;
}

.floating-nav {
  margin: 0 auto;
  max-width: min(420px, calc(100% - 24px));
  padding-top: 12px;
  padding-bottom: max(env(safe-area-inset-bottom), 12px);
  background: var(--gradient-nav);
  backdrop-filter: blur(18px);
  -webkit-backdrop-filter: blur(18px);
  box-shadow: 0 -6px 18px rgba(159, 133, 114, 0.15),
    0 4px 14px rgba(255, 255, 255, 0.85),
    inset 0 2px 4px rgba(255, 255, 255, 0.85);
  border-radius: 24px 24px 0 0;
}

/* PDF mode adjustments */
body.pdf-rendering p,
body.pdf-rendering span,
body.pdf-rendering div:not([class*="badge"]):not([class*="alert"]) {
  color: rgb(71, 59, 49) !important;
}
