# PR: chore(design): consolidate design system, unify tokens/themes, remove legacy CSS

## ×¡×™×›×•×

**××˜×¨×”**: ×œ××—×“ ×•×œ× ×§×•×ª ××ª ××¢×¨×›×ª ×”×¢×™×¦×•×‘ ×ª×—×ª `design/` - ×œ×”×¡×™×¨ CSS ××¤×•×–×¨, ×œ×™×™×—×“ ×˜×•×§× ×™×, ×œ×™×™×©× light/dark themes × ×§×™, ×•×œ×”×¡×™×¨ CSS Modules ×©××™× × ×‘×©×™××•×©.

## ××” ×”×©×ª× ×”

### 1ï¸âƒ£ ××™×—×•×“ ×˜×•×§× ×™× (Tokens Unification)

- **×”×•×¡×¨×• ×§×‘×¦×™× ××™×•×ª×¨×™×**: `app/tokens.css`, `app/page.module.css`
- **×”×•×¢×‘×¨**: `app/reset.css` â†’ `design/base/reset.css`
- **××•×–×’×•**: `design/utils/transitions.css` â†’ `design/tokens/animations.css`
- **×ª×•×¦××”**: 8 ×˜×•×§× ×™× ×‘×œ×‘×“ ×‘-`design/tokens/` (colors, typography, spacing, radii, shadows, z-index, animations, layout)

### 2ï¸âƒ£ ×ª×™××•×ª (Light/Dark Themes)

- **×ª×•×§×Ÿ**: `design/themes/dark.css` (×¤×•×¨××˜ + indentation)
- **××•××ª**: ×©× ×™ ×§×‘×¦×™ ×”×ª×™××•×ª ××©×ª××©×™× **×¨×§ ×‘××©×ª× ×™× ×¡×× ×˜×™×™×** (×œ× ×¦×‘×¢×™× ×§×©×™×—×™×)
- **×—×•×–×”**: `[data-theme="light"]` / `[data-theme="dark"]`

### 3ï¸âƒ£ ××¨×’×•×Ÿ ××—×“×© ×©×œ ×§×•××¤×•× × ×˜×•×ª

**×œ×¤× ×™**:

```
design/themes/
  â”œâ”€â”€ components/
  â”œâ”€â”€ widgets/
  â”œâ”€â”€ auth/
  â”œâ”€â”€ pages/
  â”œâ”€â”€ sections/
  â”œâ”€â”€ wealth-code/
  â””â”€â”€ layout-*.css
```

**××—×¨×™**:

```
design/
  â”œâ”€â”€ components/          # ×§×•××¤×•× × ×˜×•×ª UI ×›×œ×œ×™×•×ª
  â”‚   â”œâ”€â”€ button.css
  â”‚   â”œâ”€â”€ theme-toggle.css
  â”‚   â”œâ”€â”€ cookie-consent.css
  â”‚   â”œâ”€â”€ layout-*.css
  â”‚   â””â”€â”€ ...
  â”œâ”€â”€ features/            # ×¡×˜×™×™×œ×™× ×¡×¤×¦×™×¤×™×™× ×œ×¤×™×¦'×¨
  â”‚   â””â”€â”€ wealth-code/
  â””â”€â”€ utils/               # ×›×œ×™ ×¢×–×¨ ×’×œ×•×‘×œ×™×™×
```

### 4ï¸âƒ£ × ×™×§×•×™ CSS Modules

**×”×•×¡×¨×• ×§×‘×¦×™× ×©××™× × ×‘×©×™××•×©**:

- `app/page.module.css`
- `app/components/layout/HeaderBar.module.css`
- `app/components/shared/ThemeToggle.module.css`

**×ª×•×¦××”**: 0 ×§×‘×¦×™ `.module.css` × ×•×ª×¨×• ×‘×¤×¨×•×™×§×˜ (××•××ª ×‘-`find`)

### 5ï¸âƒ£ ×§×•×“ ××ª (Dead Code)

- **×”×•×¢×‘×¨**: `design/themes/neumorphic.css` â†’ `design/components/neumorphic.css`
- **××•×–×’**: `design/themes/components/icon-button.css` â†’ `design/components/button.css`
- **××•××ª**: ××™×Ÿ selectors ××™×•×ª×¨×™×

### 6ï¸âƒ£ ×™×™×‘×•××™× (Imports)

- **× ×§×•×“×ª ×›× ×™×¡×” ××—×ª**: `app/globals.css` ××™×™×‘× ×¨×§ `design/index.css`
- **×¢×•×“×›×Ÿ**: `design/index.css` ××™×™×‘× ×‘×¡×“×¨ × ×›×•×Ÿ (base â†’ tokens â†’ themes â†’ components â†’ features â†’ utils)
- **××•××ª**: ××™×Ÿ ×™×™×‘×•××™× ×©×œ `tokens.css` ××• ×§×‘×¦×™× ×™×©× ×™×

## ××™××•×ª (Verification) âœ…

```bash
# 1. CSS Modules × ×•×ª×¨×•: 0
find app -name "*.module.css" | wc -l
# â†’ 0

# 2. ×¦×‘×¢×™× ×§×©×™×—×™× ×‘×§×•××¤×•× × ×˜×•×ª: 0
grep -r "color:\s*#[0-9a-fA-F]" app/components design/components design/features | wc -l
# â†’ 0

# 3. ×™×™×‘×•××™ tokens.css ×™×©× ×™×: 0
grep -r "tokens\.css" app lib | wc -l
# â†’ 0

# 4. Build & Lint
pnpm lint && pnpm build
# â†’ âœ… ×”×›×œ ×™×¨×•×§
```

## ××‘× ×” ×¡×•×¤×™

```text
design/
â”œâ”€â”€ index.css                # × ×§×•×“×ª ×›× ×™×¡×”
â”œâ”€â”€ base/
â”‚   â””â”€â”€ reset.css
â”œâ”€â”€ tokens/                  # 8 ×§×‘×¦×™ ×˜×•×§× ×™×
â”‚   â”œâ”€â”€ colors.css
â”‚   â”œâ”€â”€ typography.css
â”‚   â”œâ”€â”€ spacing.css
â”‚   â”œâ”€â”€ radii.css
â”‚   â”œâ”€â”€ shadows.css
â”‚   â”œâ”€â”€ z-index.css
â”‚   â”œâ”€â”€ animations.css
â”‚   â””â”€â”€ layout.css
â”œâ”€â”€ themes/
â”‚   â”œâ”€â”€ light.css           # semantic variables
â”‚   â””â”€â”€ dark.css            # semantic variables
â”œâ”€â”€ components/             # 11 ×§×‘×¦×™×
â”œâ”€â”€ features/
â”‚   â””â”€â”€ wealth-code/        # 7 ×§×‘×¦×™×
â””â”€â”€ utils/
    â””â”€â”€ helpers.css
```

## ×§×•××™×˜×™× (7 Total)

1. `chore(design): inventory CSS and propose consolidation map`
2. `chore(design): unify tokens, remove deprecated CSS, merge transitions`
3. `chore(design): fix dark theme formatting and verify semantic vars`
4. `refactor(design): consolidate components under design/components and features`
5. `refactor(styles): remove unused CSS Module files`
6. `chore(design): move neumorphic utilities to components`
7. `docs(design): add design system section to PROJECT_STRUCTURE.md`

## ×ª×™×¢×•×“

- **×ª×™×¢×•×“ ××¤×•×¨×˜**: `docs/DESIGN-SYSTEM-CONSOLIDATION.md`
  - Before/After structure
  - ×—×•×–×” ×ª×™××•×ª (theming contract)
  - ×“×•×’×××•×ª ××©×ª× ×™×
  - ×¤×§×•×“×•×ª ××™××•×ª
- **××‘× ×” ×¤×¨×•×™×§×˜**: `docs/PROJECT_STRUCTURE.md`
  - × ×•×¡×£ ×¡×¢×™×£ `design/` ××¢×•×“×›×Ÿ ×‘×¢×‘×¨×™×ª
  - ×”×™×¨×¨×›×™×™×ª ××©×ª× ×™×
  - ×“×•×’×××•×ª ×™×™×‘×•× × ×›×•×Ÿ

## ×”×©×¤×¢×” (Impact)

### âœ… ×™×ª×¨×•× ×•×ª

- **××§×•×¨ ×××ª ×™×—×™×“**: ×›×œ ×”-CSS ×“×¨×š `design/index.css`
- **×ª×™××•×ª × ×§×™×•×ª**: light/dark ×œ×œ× ×¦×‘×¢×™× ×§×©×™×—×™×
- **××¨×’×•×Ÿ ×‘×¨×•×¨**: tokens â†’ themes â†’ components â†’ features
- **0 CSS Modules**: ××‘× ×” ××—×™×“ ×œ×œ× duplications
- **× ×’×™×©×•×ª ×œ×ª×—×–×•×§×”**: ××‘× ×” ××ª×•×¢×“ ×•×××•×¨×’×Ÿ

### ğŸ”’ ×©××™×¨×” ×¢×œ ×ª×§×™× ×•×ª

- **××™×Ÿ breaking changes**: ×›×œ ×”×§×•××¤×•× × ×˜×•×ª ×¤×•×¢×œ×•×ª ×›×¦×¤×•×™
- **Build & Lint**: ×™×¨×•×§×™× ×œ××—×¨ ×›×œ ×§×•××™×˜
- **Routes**: ×œ× × ×’×¢×• ×‘-routes ××• ×‘-`lib/domain/`
- **RTL**: ××•×’×Ÿ ×‘×›×œ ×”××‘× ×”

## ×¨×©×™××ª ×‘×“×™×§×•×ª (Checklist)

- [x] ×›×œ ×”×§×•××™×˜×™× ×¢×‘×¨×• `pnpm lint`
- [x] ×›×œ ×”×§×•××™×˜×™× ×¢×‘×¨×• `pnpm build`
- [x] 0 CSS Modules × ×•×ª×¨×•
- [x] 0 ×¦×‘×¢×™× ×§×©×™×—×™× ×‘×§×•××¤×•× × ×˜×•×ª
- [x] 0 ×™×™×‘×•××™× ×©×œ ×§×‘×¦×™× ×™×©× ×™×
- [x] ×ª×™×¢×•×“ ××œ× ×‘-`docs/`
- [x] ×—×•×–×” ×ª×™××•×ª ××ª×•×¢×“
- [x] ××‘× ×” `design/` ××¢×•×“×›×Ÿ ×‘-`PROJECT_STRUCTURE.md`

## Following Up

×œ××—×¨ merge:

- [ ] ××•×¤×¦×™×•× ×œ×™: ×œ×”×•×¡×™×£ Storybook ×œ×§×•××¤×•× × ×˜×•×ª
- [ ] ××•×¤×¦×™×•× ×œ×™: ×œ×”×•×¡×™×£ visual regression tests
- [ ] ×©××™×¨×” ×¢×œ convention: ×§×•××¤×•× × ×˜×•×ª ×—×“×©×•×ª ××©×ª××©×•×ª ×¨×§ ×‘××©×ª× ×™× ×¡×× ×˜×™×™×

---

**×¡×”"×› ×§×‘×¦×™× ×©×”×©×ª× ×•**: 37  
**×§×‘×¦×™× ×©× ×•×¦×¨×•**: 2 (reset.css ×‘-base/, DESIGN-SYSTEM-CONSOLIDATION.md)  
**×§×‘×¦×™× ×©× ××—×§×•**: 5 (tokens.css, page.module.css, 3 CSS Modules)  
**×§×‘×¦×™× ×©×”×•×¢×‘×¨×•**: 19 (reorganization)  
**×§×‘×¦×™× ×©×©×•× ×•**: 11 (imports, merges, formatting)
