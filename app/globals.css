/* Tailwind v4 - Single import replaces the three @tailwind directives */

@import "tailwindcss";

/* Neumorphism Design System */
@import "./styles/neumorphism.css";

/* Tailwind v4: enable the dark: variant to use .dark class */
@variant dark (&:where(.dark, .dark *));

/* Tailwind v4: theme color & radius tokens so utilities like bg-background/text-foreground/border-border work */
@theme {
  --color-background: #fdfcfb;
  --color-foreground: #473b31;

  --color-card: #ffffff;
  --color-card-foreground: #473b31;

  --color-popover: #fdfcfb;
  --color-popover-foreground: #473b31;

  --color-primary: #5e4934;
  --color-primary-foreground: #fdfcfb;

  --color-secondary: #eae0d8;
  --color-secondary-foreground: #473b31;

  --color-muted: #ddcec0;
  --color-muted-foreground: #87674f;

  --color-accent: #d3c6bd;
  --color-accent-foreground: #473b31;

  --color-destructive: #d4183d;
  --color-destructive-foreground: #ffffff;

  --color-border: rgba(71, 59, 49, 0.1);
  --color-input: transparent;
  --color-input-background: #eae0d8;
  --color-switch-background: #d3c6bd;
  --color-ring: #87674f;

  /* Charts */
  --color-chart-1: #d97706;
  --color-chart-2: #0891b2;
  --color-chart-3: #4338ca;
  --color-chart-4: #eab308;
  --color-chart-5: #f59e0b;

  /* Derived radii for utilities like rounded-[--radius-lg] */
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);

  /* Sidebar */
  --color-sidebar: #fafaf9;
  --color-sidebar-foreground: #292524;
  --color-sidebar-primary: #030213;
  --color-sidebar-primary-foreground: #fafaf9;
  --color-sidebar-accent: #f5f5f4;
  --color-sidebar-accent-foreground: #44403c;
  --color-sidebar-border: #e7e5e4;
  --color-sidebar-ring: #a8a29e;
}

/* ============================================
   CSS Variables - Color Palette & Tokens
   ============================================ */
:root {
  /* Typography */
  --font-size: 16px;
  --font-family: var(--font-assistant, "Assistant", sans-serif);

  /* Layout */
  /* Header/status bar base color — update together with SURFACE.header in lib/constants.ts */
  --header-surface: #f8f6f2;
  --header-surface-strong: #f3ede6;
  --status-bar-dark: #1c1814;
  --bg-start: var(--header-surface);
  --bg-end: var(--header-surface-strong);
  --page-gradient: linear-gradient(
    135deg,
    var(--bg-start) 0%,
    var(--bg-end) 100%
  );
  --header-height: 56px;

  /* Neumorphism Base Colors */
  --background: #fdfcfb;
  --foreground: #473b31;

  /* Brown Tones - Main Palette */
  --brown-dark: #473b31; /* טקסט ראשי */
  --brown-heading: #5e4934; /* כותרות H1 */
  --brown-bronze: #87674f; /* כותרות H2-H4 */
  --brown-neutral: #9f8572; /* Caption ותיאורים */

  /* Sand/Beige Tones */
  --sand-light: #d3c6bd; /* גבולות */
  --sand-lighter: #ddcec0; /* רקעים בהירים */
  --beige-lightest: #eae0d8; /* רקעים בהירים מאוד */
  --white-cream: #fdfcfb; /* רקע עיקרי */

  /* Semantic-like tokens */
  --card: #ffffff;
  --card-foreground: #473b31;
  --popover: #fdfcfb;
  --popover-foreground: #473b31;
  --primary: #5e4934;
  --primary-foreground: #fdfcfb;
  --secondary: #eae0d8;
  --secondary-foreground: #473b31;
  --muted: #ddcec0;
  --muted-foreground: #87674f;
  --accent: #d3c6bd;
  --accent-foreground: #473b31;
  --destructive: #d4183d;
  --destructive-foreground: #ffffff;
  --border: rgba(71, 59, 49, 0.1);
  --input: transparent;
  --input-background: #eae0d8;
  --switch-background: #d3c6bd;
  --ring: #87674f;

  /* Charts */
  --chart-1: #d97706;
  --chart-2: #0891b2;
  --chart-3: #4338ca;
  --chart-4: #eab308;
  --chart-5: #f59e0b;

  /* Radius */
  --radius: 0.625rem;

  /* Sidebar */
  --sidebar: #fafaf9;
  --sidebar-foreground: #292524;
  --sidebar-primary: #030213;
  --sidebar-primary-foreground: #fafaf9;
  --sidebar-accent: #f5f5f4;
  --sidebar-accent-foreground: #44403c;
  --sidebar-border: #e7e5e4;
  --sidebar-ring: #a8a29e;

  /* Font Weights */
  --font-weight-medium: 600;
  --font-weight-normal: 400;
}

/* Dark scheme (no Tailwind v4 variants; plain CSS vars override) */
.dark {
  --header-surface: #1c1814;
  --header-surface-strong: #17130f;
  --status-bar-dark: #0f0c0a;
  --background: #292524;
  --foreground: #fafaf9;
  --card: #292524;
  --card-foreground: #fafaf9;
  --popover: #292524;
  --popover-foreground: #fafaf9;
  --primary: #fafaf9;
  --primary-foreground: #44403c;
  --secondary: #57534e;
  --secondary-foreground: #fafaf9;
  --muted: #57534e;
  --muted-foreground: #a8a29e;
  --accent: #57534e;
  --accent-foreground: #fafaf9;
  --destructive: #dc2626;
  --destructive-foreground: #fca5a5;
  --border: #57534e;
  --input: #57534e;
  --ring: #78716c;
  --font-weight-medium: 500;
  --font-weight-normal: 400;
  --chart-1: #6366f1;
  --chart-2: #10b981;
  --chart-3: #f59e0b;
  --chart-4: #ec4899;
  --chart-5: #ef4444;
  --sidebar: #44403c;
  --sidebar-foreground: #fafaf9;
  --sidebar-primary: #6366f1;
  --sidebar-primary-foreground: #fafaf9;
  --sidebar-accent: #57534e;
  --sidebar-accent-foreground: #fafaf9;
  --sidebar-border: #57534e;
  --sidebar-ring: #78716c;

  /* Tailwind v4 token overrides for dark mode */
  --color-background: #292524;
  --color-foreground: #fafaf9;
  --color-card: #292524;
  --color-card-foreground: #fafaf9;
  --color-popover: #292524;
  --color-popover-foreground: #fafaf9;
  --color-primary: #fafaf9;
  --color-primary-foreground: #44403c;
  --color-secondary: #57534e;
  --color-secondary-foreground: #fafaf9;
  --color-muted: #57534e;
  --color-muted-foreground: #a8a29e;
  --color-accent: #57534e;
  --color-accent-foreground: #fafaf9;
  --color-destructive: #dc2626;
  --color-destructive-foreground: #fca5a5;
  --color-border: #57534e;
  --color-input: #57534e;
  --color-ring: #78716c;
  --color-chart-1: #6366f1;
  --color-chart-2: #10b981;
  --color-chart-3: #f59e0b;
  --color-chart-4: #ec4899;
  --color-chart-5: #ef4444;
  --color-sidebar: #44403c;
  --color-sidebar-foreground: #fafaf9;
  --color-sidebar-primary: #6366f1;
  --color-sidebar-primary-foreground: #fafaf9;
  --color-sidebar-accent: #57534e;
  --color-sidebar-accent-foreground: #fafaf9;
  --color-sidebar-border: #57534e;
  --color-sidebar-ring: #78716c;
}

/* ============================================
   Base Styles - Reset & Global (v3 safe)
   ============================================ */
@layer base {
  *,
  *::before,
  *::after {
    box-sizing: border-box;
  }

  html {
    font-size: var(--font-size);
  }

  html,
  body {
    margin: 0;
    padding: 0;
    width: 100%;
    min-height: 100dvh;
    height: 100%;
    overflow-x: hidden;
    overscroll-behavior: none;
  }

  body {
    background-color: #f8f6f2;
    background-image: none;
    background-repeat: no-repeat;
    background-position: center;
    background-size: cover;
    background-attachment: fixed;
    color: var(--color-foreground);
    font-family: var(--font-family);
    line-height: 1.1;
    text-align: center;
    direction: rtl;
  }

  body.no-scroll {
    overflow: hidden;
    height: 100dvh;
    position: relative;
  }

  /* Full-screen no-scroll container adjustments */
  .app-shell[data-route="/wealth-code/calculator"],
  .app-shell[data-route="/wealth-code/result"],
  .app-shell[data-route="/wealth-code/thankyou"],
  .app-shell[data-route="/calculator"],
  .app-shell[data-route="/result"],
  .app-shell[data-route="/thankyou"] {
    /* Ensure the main region fills remaining viewport without self scroll */
  }

  .app-shell[data-route="/wealth-code/calculator"] main.app-main,
  .app-shell[data-route="/wealth-code/result"] main.app-main,
  .app-shell[data-route="/wealth-code/thankyou"] main.app-main,
  .app-shell[data-route="/calculator"] main.app-main,
  .app-shell[data-route="/result"] main.app-main,
  .app-shell[data-route="/thankyou"] main.app-main {
    display: flex;
    flex-direction: column;
    justify-content: center;
    min-height: calc(
      100dvh - var(--header-height) - env(safe-area-inset-top) -
        env(safe-area-inset-bottom)
    );
    overflow: hidden;
    padding-bottom: 0;
  }

  .no-scroll-section {
    --no-scroll-padding: clamp(1.25rem, 5vw, 2.75rem);
    width: 100%;
    max-width: 100%;
    height: 100%;
    min-height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: var(--no-scroll-padding);
    overflow: visible;
    box-sizing: border-box;
  }

  .hero-shell {
    position: relative;
    isolation: isolate;
    width: 100%;
    flex: 1 0 auto;
    min-height: calc(100dvh - env(safe-area-inset-bottom));
    display: flex;
    align-items: center;
    justify-content: center;
    padding: calc(env(safe-area-inset-top) + clamp(1.25rem, 3vw, 2rem))
      clamp(1rem, 4vw, 2rem)
      calc(env(safe-area-inset-bottom) + clamp(1.25rem, 3vw, 2rem));
    margin: 0;
    background: #f8f6f2;
    background-image: none;
    background-repeat: no-repeat;
    background-position: center;
    background-size: cover;
    background-attachment: fixed;
    overflow: hidden;
  }

  .safe-top {
    width: 100%;
    height: env(safe-area-inset-top);
    min-height: env(safe-area-inset-top);
    background: var(--header-surface);
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    z-index: 49;
    pointer-events: none;
  }

  .safe-bottom {
    width: 100%;
    height: env(safe-area-inset-bottom);
    min-height: env(safe-area-inset-bottom);
    background: var(--header-surface);
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    z-index: 39;
    pointer-events: none;
  }

  /* Set a default border color without relying on v4 tokens */
  *,
  *::before,
  *::after {
    border-color: var(--border);
  }
}

/* ============================================
   Typography - Mobile First Responsive
   ============================================ */
@layer base {
  /* Headings */
  h1 {
    font-family: "Assistant", sans-serif;
    font-size: 30px;
    font-weight: 700;
    line-height: 0.9;
    letter-spacing: 0em;
    color: var(--brown-heading);
    text-shadow: 0 1px 3px rgba(0, 0, 0, 0.08),
      0 2px 4px rgba(255, 255, 255, 0.85), 0 -1px 2px rgba(255, 255, 255, 0.5);
    transform: translateZ(0);
  }

  h2 {
    font-family: "Assistant", sans-serif;
    font-size: 24px;
    font-weight: 800;
    line-height: 0.9;
    letter-spacing: 0em;
    color: var(--brown-bronze);
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.07),
      0 2px 4px rgba(255, 255, 255, 0.8), 0 -1px 2px rgba(255, 255, 255, 0.45);
    transform: translateZ(0);
  }

  h4 {
    font-family: "Assistant", sans-serif;
    font-size: 24px;
    font-weight: 800;
    line-height: 0.9;
    letter-spacing: 0em;
    color: var(--brown-bronze);
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.07),
      0 2px 4px rgba(255, 255, 255, 0.8), 0 -1px 2px rgba(255, 255, 255, 0.45);
    transform: translateZ(0);
  }

  .subheading-h3 {
    font-family: "Assistant", sans-serif;
    font-size: 24px;
    font-weight: 800;
    line-height: 0.9;
    letter-spacing: 0em;
    color: var(--brown-bronze);
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.07),
      0 2px 4px rgba(255, 255, 255, 0.8), 0 -1px 2px rgba(255, 255, 255, 0.45);
    transform: translateZ(0);
  }

  .caption {
    font-size: 16px !important;
    color: #9f8572 !important;
  }
  .footer-terms-text {
    font-size: 12px;
  }
  .footer-copyright-text {
    font-size: 11px;
  }

  /* Desktop - 1024px and up */
  @media (min-width: 1024px) {
    h1 {
      font-size: 48px;
    }
    h2 {
      font-size: 36px;
    }
    h3 {
      font-size: 32px;
    }
    h4 {
      font-size: 36px;
    }
    h5 {
      font-size: 24px;
    }

    .subheading-h3 {
      font-size: 36px;
    }

    p,
    label,
    input,
    textarea {
      font-size: 18px;
    }
    button {
      font-size: 17px;
    }

    .caption {
      font-size: 18px !important;
      color: #9f8572 !important;
    }
    .footer-terms-text {
      font-size: 12px;
    }
    .footer-copyright-text {
      font-size: 11px;
    }
  }
}

/* ============================================
   Neumorphism (Soft UI)
   ============================================ */

/* Main Card - Large Floating 3D */
.neuro-card-main {
  background: linear-gradient(145deg, rgb(255, 255, 255), rgb(242, 238, 234));
  box-shadow: 30px 30px 90px rgba(159, 133, 114, 0.25),
    -30px -30px 90px rgba(255, 255, 255, 0.9),
    inset 2px 2px 6px rgba(255, 255, 255, 0.8),
    inset -2px -2px 6px rgba(211, 198, 189, 0.1);
  border: 0;
  transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
}
.neuro-card-main:not(.hero-card):hover {
  box-shadow: 35px 35px 100px rgba(159, 133, 114, 0.3),
    -35px -35px 100px rgba(255, 255, 255, 1),
    inset 2px 2px 6px rgba(255, 255, 255, 0.9),
    inset -2px -2px 6px rgba(211, 198, 189, 0.12);
  transform: translateY(-2px);
}

/* Secondary Card - Medium Raised 3D */
.neuro-card-secondary {
  background: linear-gradient(145deg, rgb(255, 255, 255), rgb(245, 241, 237));
  box-shadow: 18px 18px 36px rgba(159, 133, 114, 0.18),
    -18px -18px 36px rgba(255, 255, 255, 0.85),
    inset 1px 1px 3px rgba(255, 255, 255, 0.7),
    inset -1px -1px 3px rgba(211, 198, 189, 0.08);
  border: 0;
  transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
}
.neuro-card-secondary:hover {
  box-shadow: 22px 22px 44px rgba(159, 133, 114, 0.22),
    -22px -22px 44px rgba(255, 255, 255, 0.95),
    inset 1px 1px 3px rgba(255, 255, 255, 0.8),
    inset -1px -1px 3px rgba(211, 198, 189, 0.1);
  transform: translateY(-1px);
}

/* Floating Card - Extra Depth for Logo/Special Elements */
.neuro-card-floating {
  background: linear-gradient(145deg, rgb(255, 255, 255), rgb(248, 244, 240));
  box-shadow: 40px 40px 120px rgba(159, 133, 114, 0.35),
    -40px -40px 120px rgba(255, 255, 255, 1),
    inset 3px 3px 8px rgba(255, 255, 255, 0.9),
    inset -3px -3px 8px rgba(211, 198, 189, 0.15);
  border: 0;
  transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}
.neuro-card-floating:hover {
  box-shadow: 45px 45px 135px rgba(159, 133, 114, 0.4),
    -45px -45px 135px rgba(255, 255, 255, 1),
    inset 3px 3px 8px rgba(255, 255, 255, 1),
    inset -3px -3px 8px rgba(211, 198, 189, 0.18);
  transform: translateY(-4px) scale(1.01);
}

/* Icon Circle - 3D Round Button */
.neuro-icon {
  background: linear-gradient(145deg, rgb(255, 255, 255), rgb(248, 244, 240));
  box-shadow: 12px 12px 24px rgba(159, 133, 114, 0.2),
    -12px -12px 24px rgba(255, 255, 255, 0.9),
    inset 1px 1px 3px rgba(255, 255, 255, 0.6);
  border: 0;
  transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
}
.neuro-icon:hover {
  box-shadow: 14px 14px 28px rgba(159, 133, 114, 0.25),
    -14px -14px 28px rgba(255, 255, 255, 1),
    inset 1px 1px 3px rgba(255, 255, 255, 0.7);
  transform: translateY(-2px) scale(1.05);
}

/* Button Primary - Raised with Press Effect */
.neuro-button {
  background: linear-gradient(145deg, rgb(255, 255, 255), rgb(248, 244, 240));
  box-shadow: 12px 12px 24px rgba(159, 133, 114, 0.2),
    -12px -12px 24px rgba(255, 255, 255, 0.9),
    inset 1px 1px 3px rgba(255, 255, 255, 0.6);
  border: 0;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  color: #87674f;
}
.neuro-button:hover {
  box-shadow: 14px 14px 28px rgba(159, 133, 114, 0.25),
    -14px -14px 28px rgba(255, 255, 255, 1),
    inset 1px 1px 3px rgba(255, 255, 255, 0.7);
  transform: translateY(-2px);
}
.neuro-button:active {
  box-shadow: inset 6px 6px 12px rgba(159, 133, 114, 0.18),
    inset -6px -6px 12px rgba(255, 255, 255, 0.8),
    1px 1px 3px rgba(159, 133, 114, 0.1);
  transform: scale(0.97) translateY(2px);
}

/* Button Secondary - Outline style */
.neuro-button-secondary {
  background: linear-gradient(
    145deg,
    rgba(255, 255, 255, 0.9),
    rgba(245, 241, 237, 0.85)
  );
  box-shadow: 8px 8px 18px rgba(159, 133, 114, 0.12),
    -8px -8px 18px rgba(255, 255, 255, 0.9),
    inset 1px 1px 2px rgba(255, 255, 255, 0.5);
  border: 1px solid rgba(135, 103, 79, 0.25);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  color: #5e4934;
}
.neuro-button-secondary:hover {
  box-shadow: 10px 10px 22px rgba(159, 133, 114, 0.18),
    -10px -10px 22px rgba(255, 255, 255, 0.95),
    inset 1px 1px 2px rgba(255, 255, 255, 0.6);
  transform: translateY(-1px);
}
.neuro-button-secondary:active {
  box-shadow: inset 4px 4px 10px rgba(159, 133, 114, 0.18),
    inset -4px -4px 10px rgba(255, 255, 255, 0.85);
  transform: scale(0.98) translateY(1px);
}

/* Input - Inset/Pressed Style */
.neuro-input {
  background: linear-gradient(145deg, rgb(253, 252, 251), rgb(245, 241, 237));
  box-shadow: inset 8px 8px 16px rgba(159, 133, 114, 0.12),
    inset -8px -8px 16px rgba(255, 255, 255, 0.85),
    1px 1px 3px rgba(159, 133, 114, 0.05);
  border: 0;
  transition: all 0.3s ease;
  color: #473b31;
}
.neuro-input:focus {
  box-shadow: inset 10px 10px 20px rgba(159, 133, 114, 0.15),
    inset -10px -10px 20px rgba(255, 255, 255, 0.9),
    0 0 0 3px rgba(135, 103, 79, 0.1);
  outline: none;
}
.neuro-input::placeholder {
  color: #9f8572;
  opacity: 0.6;
}

/* Inset Card - Pressed/Sunken Style */
.neuro-card-inset {
  background: linear-gradient(145deg, rgb(253, 252, 251), rgb(245, 241, 237));
  box-shadow: inset 12px 12px 24px rgba(159, 133, 114, 0.15),
    inset -12px -12px 24px rgba(255, 255, 255, 0.9),
    1px 1px 3px rgba(159, 133, 114, 0.05);
  border: 0;
  transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
}
.neuro-card-inset:hover {
  box-shadow: inset 14px 14px 28px rgba(159, 133, 114, 0.18),
    inset -14px -14px 28px rgba(255, 255, 255, 0.95),
    1px 1px 3px rgba(159, 133, 114, 0.08);
}

/* Legacy Glass Classes (compat) */
.glass-card-main {
  background: linear-gradient(145deg, rgb(255, 255, 255), rgb(242, 238, 234));
  box-shadow: 30px 30px 90px rgba(159, 133, 114, 0.25),
    -30px -30px 90px rgba(255, 255, 255, 0.9),
    inset 2px 2px 6px rgba(255, 255, 255, 0.8),
    inset -2px -2px 6px rgba(211, 198, 189, 0.1);
  border: 0;
  transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
}
.glass-card-main:hover {
  box-shadow: 35px 35px 100px rgba(159, 133, 114, 0.3),
    -35px -35px 100px rgba(255, 255, 255, 1),
    inset 2px 2px 6px rgba(255, 255, 255, 0.9),
    inset -2px -2px 6px rgba(211, 198, 189, 0.12);
  transform: translateY(-2px);
}
.glass-card-secondary {
  background: linear-gradient(145deg, rgb(255, 255, 255), rgb(245, 241, 237));
  box-shadow: 18px 18px 36px rgba(159, 133, 114, 0.18),
    -18px -18px 36px rgba(255, 255, 255, 0.85),
    inset 1px 1px 3px rgba(255, 255, 255, 0.7),
    inset -1px -1px 3px rgba(211, 198, 189, 0.08);
  border: 0;
  transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
}
.glass-card-secondary:hover {
  box-shadow: 22px 22px 44px rgba(159, 133, 114, 0.22),
    -22px -22px 44px rgba(255, 255, 255, 0.95),
    inset 1px 1px 3px rgba(255, 255, 255, 0.8),
    inset -1px -1px 3px rgba(211, 198, 189, 0.1);
  transform: translateY(-1px);
}

/* ============================================
   Layout & Spacing Utilities
   ============================================ */

.page-bg {
  /* Background set on body with fixed attachment */
}

.app-shell {
  min-height: 100dvh;
  display: flex;
  flex-direction: column;
  background-color: #f8f6f2;
  background-image: none;
  background-repeat: no-repeat;
  background-position: center;
  background-size: cover;
  background-attachment: fixed;
  position: relative;
}

.app-main {
  flex: 1 0 auto;
  display: flex;
  flex-direction: column;
  padding-top: calc(var(--header-height) + env(safe-area-inset-top));
  padding-left: env(safe-area-inset-left);
  padding-right: env(safe-area-inset-right);
  padding-bottom: calc(
    180px + env(safe-area-inset-bottom)
  ); /* Reserve space for fixed footer with navigation */
  min-height: calc(
    100dvh - var(--header-height) - env(safe-area-inset-top) -
      env(safe-area-inset-bottom)
  );
}

@media (min-width: 640px) {
  .app-main {
    padding-bottom: calc(200px + env(safe-area-inset-bottom));
  }
}

@media (min-width: 1024px) {
  .app-main {
    padding-bottom: calc(220px + env(safe-area-inset-bottom));
  }
}

.app-main--spacious {
  padding-bottom: calc(env(safe-area-inset-bottom) + 16px);
}

.app-main--floating-nav {
  padding-bottom: calc(220px + env(safe-area-inset-bottom));
}

@media (min-width: 640px) {
  .app-main--floating-nav {
    padding-bottom: calc(240px + env(safe-area-inset-bottom));
  }
}

@media (min-width: 1024px) {
  .app-main--floating-nav {
    padding-bottom: calc(260px + env(safe-area-inset-bottom));
  }
}

/* Container - Centered with Max Width */
.neuro-container {
  width: 100%;
  margin-left: auto;
  margin-right: auto;
  padding-left: 1rem;
  padding-right: 1rem;
}
@media (min-width: 640px) {
  .neuro-container {
    padding-left: 1.5rem;
    padding-right: 1.5rem;
  }
}
@media (min-width: 1024px) {
  .neuro-container {
    padding-left: 2rem;
    padding-right: 2rem;
  }
}

/* Helper to remove any spacing before the footer */
.no-bottom-gap {
  padding-bottom: 0 !important;
  margin-bottom: 0 !important;
}

/* ============================================
   PDF Rendering Mode Overrides
   ============================================ */
@layer base {
  /* Force RGB colors (avoid oklab) */
  body.pdf-rendering p,
  body.pdf-rendering span,
  body.pdf-rendering div:not([class*="badge"]):not([class*="alert"]) {
    color: rgb(71, 59, 49) !important;
  }
}

/* ============================================
   Utilities (custom)
   ============================================ */
@layer utilities {
  .rtl {
    direction: rtl;
  }
  .ltr {
    direction: ltr;
  }

  /* Text Shadows */
  .text-shadow-sm {
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
  }
  .text-shadow-md {
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.08);
  }
  .text-shadow-lg {
    text-shadow: 0 3px 6px rgba(0, 0, 0, 0.12);
  }

  .pb-safe-bottom {
    padding-bottom: max(env(safe-area-inset-bottom), 12px);
  }

  .floating-nav {
    margin: 0 auto;
    max-width: min(420px, calc(100% - 24px));
    padding-top: 12px;
    padding-bottom: max(env(safe-area-inset-bottom), 12px);
    background: linear-gradient(
      145deg,
      var(--header-surface),
      var(--header-surface-strong)
    );
    background-color: var(--header-surface);
    backdrop-filter: blur(18px);
    -webkit-backdrop-filter: blur(18px);
    box-shadow: 0 -6px 18px rgba(159, 133, 114, 0.15),
      0 4px 14px rgba(255, 255, 255, 0.85),
      inset 0 2px 4px rgba(255, 255, 255, 0.85);
    border-radius: 24px 24px 0 0;
  }

  /* Hide scrollbar but keep functionality */
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  .hero-card {
    transition: none;
  }

  .hero-shell .hero-card {
    transform: translateY(-4vh);
  }

  @media (max-width: 640px) {
    .hero-shell .hero-card {
      transform: translateY(-5vh);
    }
  }
}
