# הוראות לקופיילוט - Copilot Instructions

## כלים וסביבת פיתוח

### 🛠️ מנהל חבילות וכלים

- ✅ **מנהל חבילות:** `pnpm` (לא npm או yarn)
- ✅ **פקודות נפוצות:**
  - הפעלה: `pnpm dev`
  - הפעלה ברשת: `pnpm dev --host`
  - התקנה: `pnpm install`
  - בנייה: `pnpm build`

### 🔄 בדיקת עדכונים

**לפני כל עבודה:**

- ✅ בדוק אם יש גרסאות עדכניות של תלויות
- ✅ הצע התקנת עדכונים אם זמינים
- ✅ פקודה לבדיקת עדכונים: `pnpm outdated`
- ✅ פקודה לעדכון: `pnpm update`

### 📱 בדיקת תצוגה במכשירים

**לבדיקה בטלפון אמיתי:**

```bash
pnpm dev --host
```

זה יציג כתובת Network שאפשר לפתוח בטלפון (ודא שהמכשירים באותו WiFi).

---

## 🎨 מערכת הכפתורים - הגדרות צבעים

### כפתור CTA (Call-to-Action)

**כאשר מבקשים "להגדיר צבע CTA" - יש לעדכן את כל השלושה:**

1. **רקע כפתור CTA** - `--btn-cta-bg` ב-`src/styles/global.css`
2. **טקסט ומסגרת כפתור ראשי** - `--btn-primary-text` ו-`--btn-primary-border` ב-`src/styles/global.css`
3. **טקסט כפתור משני** - `--btn-secondary-text` ב-`src/styles/global.css`

**דוגמה:**
אם מבקשים "תגדירי `#3F4F4F` כצבע CTA" - יש לעדכן:

```css
:root {
  --btn-cta-bg: #3f4f4f;
  --btn-primary-text: #3f4f4f;
  --btn-primary-border: 2px solid #3f4f4f;
  --btn-secondary-text: #3f4f4f;
}
```

---

## כללי עריכת תוכן

### 🚫 אין לשנות את הקבצים הבאים:

**כל קובץ בתיקיית `data/` או `wealth-code/data/`:**

- ❌ **אין לשנות** קבצי תוכן בתיקיות אלו בשום צורה
- ❌ **אין לערוך** טקסטים של פירושים, הסברים או תוכן מקצועי
- ❌ **אין לתקן** או "לשפר" ניסוחים
- ✅ קבצים אלו הם **מקור אמת יחידי** לתוכן המקצועי

**רשימת קבצים מוגנים:**

- `wealth-code/data/digitInterpretations.ts` - פירושי ספרות קוד העושר
- `wealth-code/data/dailyApplication.ts` - הוראות יישום יומי
- `wealth-code/data/codeStructures.ts` - מבנה הקוד
- `src/content/wealth-code/digitInterpretations.ts` - העתק של הפירושים
- `src/content/wealth-code/dailyApplication.ts` - העתק של היישום היומי
- כל קובץ אחר שמכיל תוכן מקצועי או טקסטים ארוכים

---

## 🔒 עמודים וקומפוננטות מוגמרות - אסור לגעת!

**עמודים וקומפוננטות אלו הושלמו ואושרו - אין לשנות בהם דבר ללא בקשה מפורשת:**

### ✅ עמודים מוגמרים

1. **עמוד הבית** (`src/pages/index.astro`)

   - ❌ אין לשנות עיצוב, תוכן, טקסטים או מיקום אלמנטים
   - ❌ אין להוסיף קומפוננטות או אלמנטים חדשים
   - ✅ ניתן לשנות צבעים **רק** אם המשתמש מבקש במפורש

2. **עמוד המחשבון** (`src/pages/tools/wealth-code/calculator.astro`)

   - ❌ אין לשנות עיצוב, תוכן, טקסטים או מיקום אלמנטים
   - ❌ אין להוסיף קומפוננטות או אלמנטים חדשים
   - ✅ ניתן לשנות צבעים **רק** אם המשתמש מבקש במפורש

3. **עמוד התוצאה** (`src/pages/tools/wealth-code/result.astro`)
   - ❌ אין לשנות עיצוב, תוכן, טקסטים או מיקום אלמנטים
   - ❌ אין להוסיף קומפוננטות או אלמנטים חדשים
   - ✅ ניתן לשנות צבעים **רק** אם המשתמש מבקש במפורש

### ✅ קומפוננטות מוגמרות

4. **כרטיס תוצאה** (`src/components/ResultCard.tsx`, `ResultCard.css`)

   - ❌ אין לשנות עיצוב, מבנה HTML, טקסטים או מיקום אלמנטים
   - ❌ אין להוסיף אלמנטים או שדות חדשים
   - ❌ אין לשנות את סדר הצגת המידע (כותרת → ספרות → סוג קוד → תיאור → כפתורים)
   - ✅ ניתן לשנות צבעים **רק** אם המשתמש מבקש במפורש

5. **יומן המחשבון** (`src/components/HebrewCalendar.tsx`, `HebrewCalendar.css`)

   - ❌ **ההגדרות מדויקות ומושלמות - אסור לשנות כלום!**
   - ❌ אין לשנות עיצוב, מיקום אלמנטים, מרווחים או גדלים
   - ❌ אין לשנות את כפתורי הניווט (קדימה/אחורה) או כיוון החצים
   - ❌ אין לשנות את כפתורי החודש/שנה או מיקום החץ dropdown
   - ❌ אין לשנות את מיקום התאריך הנבחר (ב-header ליד כפתור הסגירה)
   - ❌ אין לשנות לוגיקת בחירת תאריכים או אופן התצוגה
   - ❌ אין להוסיף אפשרויות, כפתורים או שדות חדשים
   - ❌ אין לשנות את מבנה הלוח העברי או התצוגה הגרגוריאנית
   - ❌ אין לשנות padding, gap, flex-direction או כל תכונת layout
   - ✅ ניתן לשנות צבעים **רק** אם המשתמש מבקש במפורש

6. **פוטר קבוע** (`src/components/Footer.tsx`, `Footer.css`)

   - ❌ אין לשנות עיצוב, מיקום כפתורים, גדלים או אנימציות
   - ❌ אין להוסיף כפתורים או אלמנטים חדשים
   - ✅ ניתן לשנות צבעים **רק** אם המשתמש מבקש במפורש

7. **תפריט צד** (`src/components/Footer.tsx` - side menu)

   - ❌ אין לשנות עיצוב, מבנה, רשימת קישורים או אנימציות
   - ❌ אין להוסיף פריטים או אלמנטים חדשים
   - ✅ ניתן לשנות צבעים **רק** אם המשתמש מבקש במפורש

8. **חלון קוקיז** (`src/components/CookieConsent.tsx`, `cookie-consent.css`)
   - ❌ אין לשנות עיצוב, טקסטים, מיקום או התנהגות
   - ❌ אין להוסיף אלמנטים או לשנות מבנה
   - ✅ ניתן לשנות צבעים **רק** אם המשתמש מבקש במפורש

### ⚠️ כללים חשובים

- ❌ **אין לשנות** שום דבר בעמודים/קומפוננטות אלו ללא בקשה מפורשת
- ❌ **אין להוסיף** אלמנטים, קומפוננטות או פיצ'רים חדשים
- ❌ **אין לשפר** או "לייפות" - הכל כבר מאושר ותקין
- ✅ **רק צבעים** ניתן לשנות אם המשתמש מבקש במפורש "שני צבע X"
- ✅ אם יש **בקשה ספציפית וברורה** לשינוי - אז ניתן לבצע

**זכור:** אם המשתמש לא ביקש במפורש לשנות משהו בעמודים/קומפוננטות אלו - **אל תגע בהם!**

---

## כללי שפה ופנייה

### ✅ פנייה ישירה - **רבים בלבד**

כאשר פונים ישירות למשתמש באתר (CTA, כפתורים, הוראות):

**נכון:**

- ✅ "גלו את קוד העושר שלכם"
- ✅ "שתפו עם מי שחשוב לכם"
- ✅ "הירשמו והתחילו את המסע"
- ✅ "בחרו תאריך מהיומן"

**לא נכון:**

- ❌ "גלה את קוד העושר שלך" (יחיד)
- ❌ "שתף עם מי שחשוב לך" (יחיד)
- ❌ "הירשם והתחל את המסע" (יחיד)

### ✅ תיאור כללי - שפה ניטרלית

כאשר מתארים מושגים, שירותים או תהליכים (לא פנייה ישירה):

**נכון:**

- ✅ "קוד העושר האישי" (ללא "שלך/שלכם")
- ✅ "מסע להבנה עמוקה של הפוטנציאל הייחודי" (ללא פנייה אישית)
- ✅ "הפירוש המלא של קוד העושר" (ללא "שלך/שלכם")
- ✅ "המתנות והחסמים המרכזיים" (ללא "שלך")

**לא נכון:**

- ❌ "קוד העושר שלך" בכותרות/תיאורים
- ❌ "המסע שלך" בתיאורים כלליים
- ❌ "הפוטנציאל שלך" בטקסטים מתארים

### ✅ מניעת כפילויות וחזרות

**חובה לבדוק תמיד:**

- ✅ אין משפטים חוזרים פעמיים ברצף
- ✅ אין כותרות זהות בעמוד אחד (H1 וגם H2 עם אותו טקסט)
- ✅ אין מילים צמודות שחוזרות (לדוגמה: "קוד העושר קוד העושר")

**כיצד לתקן:**

- אם יש כפילות של כותרת - למחוק את האחת העליונה
- אם יש פסקה שחוזרת - להעביר אותה למקום אחד ולמחוק את החזרה
- תמיד לבדוק את כל העמוד לפני סיום

---

## 📐 יישור טקסט

### ✅ כל הטקסטים למרכז

**כלל קבוע - חובה:**

- ✅ **כל הטקסטים** באתר מיושרים למרכז (`text-align: center`)
- ✅ **כותרות (H1-H6)** - תמיד למרכז
- ✅ **פסקאות** - תמיד למרכז
- ✅ **כפתורים** - טקסט למרכז
- ✅ **כרטיסים** - תוכן למרכז
- ✅ **תפריט צד** - פריטים למרכז
- ✅ **טפסים** - תוויות ושדות למרכז
- ✅ **Footer** - כל הטקסטים למרכז

### ❌ אסור

- ❌ `text-align: right` (למעט במקרים נדירים מאוד)
- ❌ `text-align: left`
- ❌ יישור לצדדים ללא סיבה מפורשת

### דוגמה נכונה

```css
/* ✅ נכון */
h1,
h2,
h3,
h4,
h5,
h6 {
  text-align: center;
}

p {
  text-align: center;
}

.menu-item {
  text-align: center;
}

button {
  text-align: center;
}

/* ❌ לא נכון */
h1 {
  text-align: right;
}

p {
  text-align: justify;
}
```

---

## דוגמאות ליישום

### דף הבית (index.astro)

```html
<!-- ✅ נכון -->
<h1>גלו את קוד העושר שלכם</h1>
<p>מסע להבנה עמוקה של הפוטנציאל הייחודי</p>
<button>מחשבון קוד העושר</button>

<!-- ❌ לא נכון -->
<h1>גלה את קוד העושר שלך</h1>
<p>מסע להבנה עמוקה של הפוטנציאל הייחודי שלך</p>
```

### דף מחשבון (calculator.astro)

```html
<!-- ✅ נכון -->
<h1>מחשבון קוד העושר</h1>
<p>קוד העושר האישי הוא מפתח להבנה עמוקה</p>
<button>בחרו תאריך לידה</button>

<!-- ❌ לא נכון -->
<h1>מחשבון קוד העושר שלך</h1>
<p>קוד העושר האישי שלך הוא מפתח</p>
<button>בחר תאריך לידה</button>
```

### דף התחברות (login.astro)

```html
<!-- ✅ נכון -->
<h2>התחברות</h2>
<p>התחברו לאזור האישי</p>
<button>התחברו</button>

<!-- ❌ לא נכון -->
<p>התחבר לאזור האישי שלך</p>
<button>התחבר</button>
```

---

## סיכום כללים

| סוג תוכן        | כלל                | דוגמה                                        |
| --------------- | ------------------ | -------------------------------------------- |
| **קבצי data/**  | 🚫 אין לשנות       | digitInterpretations.ts, dailyApplication.ts |
| **פנייה ישירה** | ✅ רבים            | "גלו", "שתפו", "הירשמו", "בחרו"              |
| **תיאור כללי**  | ✅ ניטרלי          | "קוד העושר האישי" (ללא "שלכם")               |
| **כותרות**      | ✅ ללא פנייה אישית | "הפירוש המלא של קוד העושר"                   |
| **כפתורים/CTA** | ✅ רבים            | "התחברו", "הירשמו", "גלו"                    |
| **יישור טקסט**  | ✅ למרכז           | `text-align: center` תמיד                    |

---

## כללי אייקונים ואימוג'ים

- ❌ אין להשתמש באימוג'ים בממשק, בטקסטים או בדוגמאות קוד.
- ✅ משתמשים רק באייקוני SVG אלגנטיים עם קו דק (`stroke-width: 1px`).
- ✅ במידה ויש צורך להדגיש מצב (למשל theme toggle) יש לבחור אייקונים מונוליניים בלבד.

---

## כפתורים וניגודיות

- ✅ **משקל פונט:** כל הכפתורים ב-`font-weight: 600`
- ✅ כפתורים ראשיים יעוצבו עם צבע accent מלא (ללא גרדיאנטים), רדיוס בינוני, צללית עדינה והבדל ברור מצב Hover/Active.
- ✅ כפתורים משניים ישתמשו ברקע נוימורפי (`neu-raised-min`) עם טיפוגרפיה מודגשת ומרווח אנכי של לפחות 16px.
- ✅ בכל שינוי צבע או רקע של כפתור, חובה לאמת ניגודיות מול הטקסט (WCAG AA: 4.5:1 לטקסט רגיל, 3:1 לטקסט גדול).
- ✅ מומלץ לבדוק חיווי ניגודיות באמצעות Axe, Stark או כלי DevTools לפני סיום משימה.

---

## 🔍 בדיקת התנגשויות ואלמנטים חופפים

### ✅ חובה לפני כל שינוי

**כל פעם שיוצרים או משנים אלמנט, יש לוודא:**

- ✅ **אין התנגשויות:** אלמנטים לא עולים אחד על השני
- ✅ **z-index נכון:** אלמנטים מוצגים בשכבה הנכונה
- ✅ **רווחים מספיקים:** יש מרחק בין אלמנטים (לפחות 8-16px)
- ✅ **אלמנטים קבועים:** כפתורי סגירה, תפריטים וכו' לא חוסמים תוכן
- ✅ **כותרות ברורות:** טקסט לא מוסתר מאחורי כפתורים או אייקונים

### דוגמאות נפוצות לבדיקה

**תפריט צד:**

```css
/* ✅ נכון */
.close-button {
  position: absolute;
  top: 1.5rem; /* מספיק רחוק מהכותרת */
  z-index: 10;
}

.menu-content {
  padding: 4.5rem 1.5rem 2rem; /* רווח עליון גדול למען כפתור הסגירה */
}
```

**חלונות קופצים:**

```css
/* ✅ נכון */
.modal-header {
  padding: 1.5rem;
  display: flex;
  justify-content: space-between; /* כפתור סגירה בצד, כותרת בצד */
  align-items: flex-start; /* מונע חפיפה */
}
```

### תהליך בדיקה

1. **בדוק במובייל** - הכי קטן, הכי הרבה בעיות
2. **בדוק בטאבלט** - שבירה בינונית
3. **בדוק בדסקטופ** - רוחב מקסימלי
4. **בדוק במצבי light/dark** - ניגודיות שונה

---

## טיפוגרפיה

- ✅ **פסקאות וטקסט רגיל:** `font-weight: 500`
- ✅ **כפתורים:** `font-weight: 600`
- ✅ **כותרות:** `font-weight: 600`

---

## חלון הסכמה לקוקיז (Cookie Consent)

- ✅ **מיקום:** תמיד במרכז המסך (position: fixed + center alignment)
- ✅ **רקע מטושטש:** השתמש ב-`backdrop-filter: blur()` על overlay מאחורי החלון
- ✅ **שכבות:**
  - Overlay מטושטש עם `background: rgba(0, 0, 0, 0.5)` או דומה
  - חלון הקוקיז מעל ה-overlay עם z-index גבוה
- ✅ **נגישות:** ודא שאפשר לסגור עם Escape וש-focus נכון

---

## לבדיקה לפני commit

- [ ] האם בדקתי עדכונים זמינים? ✅ `pnpm outdated`
- [ ] האם שיניתי קבצים בתיקיית `data/`? ❌ אם כן - בטל שינויים
- [ ] האם כל הטקסטים מיושרים למרכז? ✅ `text-align: center`
- [ ] האם בדקתי התנגשויות אלמנטים? ✅ אין חפיפות, רווחים תקינים
- [ ] האם כל הפניות הישירות ברבים? ✅ "גלו", "שתפו"
- [ ] האם תיאורים כלליים ללא "שלכם/שלך"? ✅ "קוד העושר האישי"
- [ ] האם כפתורים ו-CTA ברבים? ✅ "התחברו", "הירשמו"
- [ ] האם בדקתי ניגודיות של כפתורים וטקסטים חדשים? ✅ לפחות 4.5:1 לטקסט רגיל
- [ ] האם בדקתי תצוגה במכשירים שונים? ✅ DevTools או `pnpm dev --host`

---

## 📚 מסמכי תיעוד מאוחדים

**לפני כל עבודה - קרא את המסמכים הרלוונטיים!**

### 5 מסמכי מקור אמת (Root Documentation)

**מיקום:** `doc/` בשורש הפרויקט

| מסמך                 | תוכן                                                      | מתי להשתמש                 |
| -------------------- | --------------------------------------------------------- | -------------------------- |
| **doc/RULES.md**     | כללים גלובליים (RTL, רבים, SVG, font-weights, data/ מוגן) | **תמיד - לפני כל שינוי!**  |
| **doc/COLORS.md**    | מערכת צבעים מלאה (RGB, light/dark, shadows, ניגודיות)     | לפני כל שינוי צבע          |
| **doc/DESIGN.md**    | ניאומורפיזם, טיפוגרפיה, אנימציות, נגישות                  | לפני עיצוב/סטייל חדש       |
| **doc/STRUCTURE.md** | מבנה HTML, טקסטים מדויקים, CSS לכל עמוד                   | לפני עריכת עמוד/קומפוננטה  |
| **doc/LOGIC.md**     | Routing, PWA, Performance, Deployment                     | לפני שינוי טכני/ארכיטקטורה |

### ⚠️ כללי שימוש במסמכים

1. **לפני שינוי צבע** → קרא `doc/COLORS.md` ועדכן `tokens.css`
2. **לפני עריכת עמוד** → קרא `doc/STRUCTURE.md` לטקסטים מדויקים
3. **לפני הוספת קומפוננטה** → בדוק `doc/DESIGN.md` + `doc/RULES.md`
4. **לפני שינוי טכני** → קרא `doc/LOGIC.md` לארכיטקטורה
5. **תמיד** → בדוק `doc/RULES.md` להתאמה לכללים

### 🔒 קבצים מוגנים (אין לשנות!)

- `wealth-code/data/**` - תוכן מקצועי בלבד
- `src/content/wealth-code/**` - העתקים של התוכן המקצועי

### 📝 כללי תיעוד

**כאשר המשתמש מבקש "תעדי" או "תתעדי":**

1. ✅ **תמיד** עדכן את אחד מ-5 הקבצים הקיימים ב-`doc/`:

   - `doc/RULES.md` - לכללים חדשים
   - `doc/COLORS.md` - לצבעים חדשים
   - `doc/DESIGN.md` - לעיצוב/סטייל חדש
   - `doc/STRUCTURE.md` - למבנה HTML/טקסטים
   - `doc/LOGIC.md` - ללוגיקה טכנית

2. ❌ **אין ליצור קובץ תיעוד חדש** אלא אם כן המשתמש ביקש במפורש "צרי קובץ חדש"

3. ✅ בחר את הקובץ המתאים ביותר לתוכן שצריך לתעד

4. ✅ הוסף את המידע לסעיף הרלוונטי או צור סעיף חדש בקובץ הקיים

**דוגמאות:**

- "תעדי את הכפתור החדש" → עדכן `doc/STRUCTURE.md` או `doc/DESIGN.md`
- "תעדי את הצבע החדש" → עדכן `doc/COLORS.md`
- "תעדי את הקומפוננטה" → עדכן `doc/STRUCTURE.md`
- "תעדי את הAPI החדש" → עדכן `doc/LOGIC.md`

---

**חשוב:** קבצי התוכן המקצועי נכתבו על ידי המומחית ואין לשנותם. כל עריכה של תוכן מקצועי מהווה פגיעה באיכות השירות ובדיוק המידע.
